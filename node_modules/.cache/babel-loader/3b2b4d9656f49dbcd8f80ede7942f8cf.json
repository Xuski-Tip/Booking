{"ast":null,"code":"import axios from \"axios\";\nimport { REGISTR_API, TOKEN_LOCAL } from \"../../simpleJs/loginApi\";\nimport { toast } from \"react-toastify\";\nexport function login(events, error, value, history) {\n  return function (dispatch) {\n    axios.post(REGISTR_API, value).then(res => {\n      console.log(\"salom\");\n      console.log(res);\n      dispatch({\n        type: \"\"\n      });\n      localStorage.setItem(TOKEN_LOCAL, res.data.token);\n      history.push(\"/\");\n      toast.success(\"fine\");\n    }).catch(res => {\n      toast.error(\"Error\");\n    });\n    console.log(value);\n  };\n}","map":{"version":3,"sources":["C:/общие документы/Партфолио/проект N10/BookingMGproject/src/redux/Action/registerAction.js"],"names":["axios","REGISTR_API","TOKEN_LOCAL","toast","login","events","error","value","history","dispatch","post","then","res","console","log","type","localStorage","setItem","data","token","push","success","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,yBAAvC;AACA,SAAQC,KAAR,QAAoB,gBAApB;AAEA,OAAO,SAASC,KAAT,CAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,OAArC,EAA8C;AACjD,SAAO,UAAUC,QAAV,EAAoB;AACvBT,IAAAA,KAAK,CAACU,IAAN,CAAWT,WAAX,EAAwBM,KAAxB,EACKI,IADL,CACWC,GAAD,IAAS;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAH,MAAAA,QAAQ,CAAC;AAACM,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqBf,WAArB,EAAkCU,GAAG,CAACM,IAAJ,CAASC,KAA3C;AACAX,MAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACAjB,MAAAA,KAAK,CAACkB,OAAN,CAAc,MAAd;AACH,KARL,EASKC,KATL,CASYV,GAAD,IAAS;AACZT,MAAAA,KAAK,CAACG,KAAN,CAAY,OAAZ;AACH,KAXL;AAYAO,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACH,GAdD;AAeH","sourcesContent":["import axios from \"axios\";\r\nimport {REGISTR_API, TOKEN_LOCAL} from \"../../simpleJs/loginApi\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nexport function login(events, error, value, history) {\r\n    return function (dispatch) {\r\n        axios.post(REGISTR_API, value)\r\n            .then((res) => {\r\n                console.log(\"salom\");\r\n                console.log(res);\r\n                dispatch({type: \"\"});\r\n                localStorage.setItem(TOKEN_LOCAL, res.data.token);\r\n                history.push(\"/\");\r\n                toast.success(\"fine\")\r\n            })\r\n            .catch((res) => {\r\n                toast.error(\"Error\")\r\n            })\r\n        console.log(value)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}